<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wraith Heavy Dart - Stargate: Conquest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    <style>
        .ship-detail-page {
            min-height: 100vh;
            background: url('/newproject/pozadie_wraith.png') center/cover no-repeat fixed;
            position: relative;
            padding-top: 80px;
        }

        .ship-detail-page::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 0;
        }

        .ship-content {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .ship-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .ship-title {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: 6px;
            color: var(--wraith-color);
            text-shadow: 0 0 20px rgba(51, 221, 136, 0.5);
            margin-bottom: 0.5rem;
        }

        .ship-subtitle {
            font-family: var(--font-body);
            font-size: 1rem;
            color: var(--text-secondary);
            letter-spacing: 3px;
        }

        .model-container {
            width: 100%;
            height: 600px;
            background: rgba(0, 5, 2, 0.5);
            border: 2px solid rgba(51, 221, 136, 0.3);
            margin-bottom: 2rem;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(51, 221, 136, 0.15);
            position: relative;
        }

        #model-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .model-controls {
            text-align: center;
            margin-bottom: 2rem;
            font-family: var(--font-body);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .spec-card {
            background: rgba(5, 15, 8, 0.85);
            border: 1px solid rgba(51, 221, 136, 0.3);
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .spec-card h3 {
            font-family: var(--font-display);
            font-size: 1.2rem;
            color: var(--wraith-color);
            letter-spacing: 3px;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(51, 221, 136, 0.2);
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(51, 221, 136, 0.1);
        }

        .spec-row:last-child {
            border-bottom: none;
        }

        .spec-label {
            font-family: var(--font-body);
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .spec-value {
            font-family: var(--font-mono);
            color: var(--wraith-color);
            font-size: 0.95rem;
        }

        .description-section {
            background: rgba(5, 15, 8, 0.85);
            border: 1px solid rgba(51, 221, 136, 0.3);
            padding: 2rem;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
        }

        .description-section h2 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--wraith-color);
            letter-spacing: 4px;
            margin-bottom: 1.5rem;
        }

        .description-section p {
            font-family: var(--font-body);
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .description-section ul {
            list-style: none;
            padding-left: 0;
        }

        .description-section ul li {
            font-family: var(--font-body);
            font-size: 1.05rem;
            color: var(--text-primary);
            margin-bottom: 0.8rem;
            padding-left: 2rem;
            position: relative;
        }

        .description-section ul li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: var(--wraith-color);
            font-weight: bold;
        }

        .back-btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: rgba(51, 221, 136, 0.1);
            border: 1px solid var(--wraith-color);
            color: var(--wraith-color);
            font-family: var(--font-display);
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(51, 221, 136, 0.2);
            box-shadow: 0 0 20px rgba(51, 221, 136, 0.3);
        }

        .weapons-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .weapon-item {
            background: rgba(0, 10, 5, 0.4);
            padding: 1rem;
            border-left: 3px solid var(--wraith-color);
        }

        .weapon-item h4 {
            font-family: var(--font-display);
            font-size: 1rem;
            color: var(--wraith-color);
            letter-spacing: 2px;
            margin-bottom: 0.5rem;
        }

        .weapon-item p {
            font-size: 0.95rem;
            margin-bottom: 0.3rem;
        }
    </style>
</head>
<body>
    <!-- Scanline overlay -->
    <div class="scanline-overlay"></div>

    <!-- HUD corners -->
    <div class="hud-corner hud-tl"></div>
    <div class="hud-corner hud-tr"></div>
    <div class="hud-corner hud-bl"></div>
    <div class="hud-corner hud-br"></div>

    <!-- Navigation -->
    <nav class="nav" id="nav">
        <div class="nav-inner">
            <div class="nav-logo">
                <div class="nav-logo-hex">
                    <svg viewBox="0 0 40 46" class="hex-svg">
                        <polygon points="20,1 39,12 39,34 20,45 1,34 1,12" fill="none" stroke="currentColor" stroke-width="1.5"/>
                        <polygon points="20,8 33,15 33,31 20,38 7,31 7,15" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.4"/>
                    </svg>
                    <span class="nav-logo-sg">SG</span>
                </div>
                <div class="nav-logo-text">
                    <span class="nav-logo-title">STARGATE</span>
                    <span class="nav-logo-sub">CONQUEST</span>
                </div>
            </div>
            <div class="nav-center">
                <div class="nav-status">
                    <span class="status-dot" style="background: var(--wraith-color); box-shadow: 0 0 10px var(--wraith-color);"></span>
                    <span class="status-text" style="color: var(--wraith-color);">HEAVY DART SPECIFICATIONS</span>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="wraith-detail.html" data-text="BACK">BACK</a></li>
            </ul>
        </div>
        <div class="nav-border-bottom"></div>
    </nav>

    <!-- Ship Detail Page -->
    <div class="ship-detail-page">
        <div class="ship-content">
            <div class="ship-header">
                <h1 class="ship-title">WRAITH HEAVY DART</h1>
                <p class="ship-subtitle">BIO-ORGANIC HEAVY FIGHTER / ASSAULT CRAFT</p>
            </div>

            <!-- 3D Model Viewer -->
            <div class="model-container">
                <canvas id="model-canvas"></canvas>
            </div>

            <div class="model-controls">
                Use mouse to rotate • Scroll to zoom • Auto-rotation enabled
            </div>

            <!-- Specifications -->
            <div class="specs-grid">
                <div class="spec-card">
                    <h3>DIMENSIONS</h3>
                    <div class="spec-row">
                        <span class="spec-label">Length:</span>
                        <span class="spec-value">40 meters</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Wingspan:</span>
                        <span class="spec-value">24 meters</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Height:</span>
                        <span class="spec-value">9 meters</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Hull Type:</span>
                        <span class="spec-value">Reinforced bio-organic</span>
                    </div>
                </div>

                <div class="spec-card">
                    <h3>PROPULSION</h3>
                    <div class="spec-row">
                        <span class="spec-label">Main Drive:</span>
                        <span class="spec-value">Heavy bio-plasma</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">FTL:</span>
                        <span class="spec-value">None (carrier-based)</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Sublight Speed:</span>
                        <span class="spec-value">Very fast</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Maneuverability:</span>
                        <span class="spec-value">High</span>
                    </div>
                </div>

                <div class="spec-card">
                    <h3>DEFENSES</h3>
                    <div class="spec-row">
                        <span class="spec-label">Shields:</span>
                        <span class="spec-value">Light bio-shields</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Hull:</span>
                        <span class="spec-value">Heavy regenerating</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Armor:</span>
                        <span class="spec-value">Reinforced chitin</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Countermeasures:</span>
                        <span class="spec-value">Bio-organic ECM</span>
                    </div>
                </div>

                <div class="spec-card">
                    <h3>CREW & SYSTEMS</h3>
                    <div class="spec-row">
                        <span class="spec-label">Crew:</span>
                        <span class="spec-value">2 Wraith</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Neural Link:</span>
                        <span class="spec-value">Enhanced telepathic</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Culling Beam:</span>
                        <span class="spec-value">Heavy capacity</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Troop Bay:</span>
                        <span class="spec-value">6 Wraith warriors</span>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="description-section">
                <h2>VESSEL OVERVIEW</h2>
                <p>The Wraith Heavy Dart is an enhanced variant of the standard Dart fighter, designed to fill the gap between light fighters and Wraith Cruisers. Larger and more heavily armed, the Heavy Dart serves as an assault craft capable of engaging hardened targets that standard Darts cannot effectively combat.</p>
                <p>Grown from the same organic material as all Wraith vessels, the Heavy Dart features reinforced bio-armor plating and enhanced weapons systems. Its larger frame accommodates a small troop bay, allowing it to serve as a boarding craft during ship-to-ship engagements.</p>
            </div>

            <div class="description-section">
                <h2>ARMAMENT</h2>
                <div class="weapons-list">
                    <div class="weapon-item">
                        <h4>HEAVY BIO-PLASMA CANNONS</h4>
                        <p>Enhanced organic energy weapons with greater destructive power than standard Dart armament.</p>
                        <p><strong>Quantity:</strong> 4 forward-mounted</p>
                    </div>
                    <div class="weapon-item">
                        <h4>BIO-MISSILE PODS</h4>
                        <p>Organic projectile launchers that fire bio-engineered explosive charges at enemy vessels.</p>
                        <p><strong>Capacity:</strong> 8 bio-missiles</p>
                    </div>
                    <div class="weapon-item">
                        <h4>HEAVY CULLING BEAM</h4>
                        <p>Enhanced transporter beam with wider coverage area and faster capture rate than standard Darts.</p>
                        <p><strong>Coverage:</strong> Wide-area sweep</p>
                    </div>
                    <div class="weapon-item">
                        <h4>BOARDING CLAWS</h4>
                        <p>Bio-organic hull breaching appendages for latching onto enemy ships and deploying warriors.</p>
                        <p><strong>Capacity:</strong> 6 warriors</p>
                    </div>
                </div>
            </div>

            <div class="description-section">
                <h2>OPERATIONAL HISTORY</h2>
                <p>The Heavy Dart variant emerged as Wraith forces encountered more heavily defended targets, particularly Tau'ri warships whose shields and point-defense systems could withstand standard Dart attacks. The need for a more capable strike craft led to the evolution of this enhanced design.</p>
                <p><strong>Notable Actions:</strong></p>
                <ul>
                    <li>Assault operations against Tau'ri BC-304 battlecruisers</li>
                    <li>Boarding actions against Traveler ships in the Pegasus Galaxy</li>
                    <li>Heavy strike missions against fortified Genii installations</li>
                    <li>Escort duties for Hive Ship culling operations</li>
                    <li>Anti-cruiser strikes in fleet engagements</li>
                </ul>
            </div>

            <div class="description-section">
                <h2>TACTICAL ANALYSIS</h2>
                <p>The Heavy Dart bridges the tactical gap in Wraith force composition. While standard Darts excel at swarming and culling, the Heavy Dart provides the Wraith with a craft capable of engaging enemy capital ships more effectively. Its boarding capability adds a unique dimension to Wraith combat doctrine.</p>
                <p><strong>Recommended Counter-Tactics:</strong></p>
                <ul>
                    <li>Prioritize Heavy Darts before they reach boarding range</li>
                    <li>Concentrated Asgard beam fire to penetrate bio-armor</li>
                    <li>Deploy F-302 squadrons to intercept before capital ship approach</li>
                    <li>Maintain shield integrity to prevent boarding claws from latching</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <a href="wraith-detail.html" class="back-btn">← RETURN TO WRAITH DATABASE</a>
            </div>
        </div>
    </div>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        const canvas = document.getElementById('model-canvas');
        const container = canvas.parentElement;

        // Scene setup - darker green tint for Wraith
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x050a06);

        // Camera
        const camera = new THREE.PerspectiveCamera(
            45,
            container.clientWidth / container.clientHeight,
            0.1,
            10000
        );
        camera.position.set(0, 8, 50);

        // Renderer
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.outputColorSpace = THREE.SRGBColorSpace;
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.0;

        // Lights - green-tinted for Wraith atmosphere
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);

        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 1.5);
        directionalLight1.position.set(5, 5, 5);
        scene.add(directionalLight1);

        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight2.position.set(-5, 3, -5);
        scene.add(directionalLight2);

        const directionalLight3 = new THREE.DirectionalLight(0x33dd88, 0.5);
        directionalLight3.position.set(0, -5, 0);
        scene.add(directionalLight3);

        // Starfield
        const starsGeometry = new THREE.BufferGeometry();
        const starsMaterial = new THREE.PointsMaterial({
            color: 0xffffff,
            size: 2,
            transparent: true,
            opacity: 0.8
        });

        const starsVertices = [];
        for (let i = 0; i < 10000; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 2000;
            const z = (Math.random() - 0.5) * 2000;
            starsVertices.push(x, y, z);
        }

        starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
        const starField = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(starField);

        // Texture loader
        const textureLoader = new THREE.TextureLoader();


        // Alien planet in background (Jupiter texture recolored green/purple)
        const planetGeometry = new THREE.SphereGeometry(400, 128, 128);
        const jupiterTexture = textureLoader.load(
            '/newproject/wraith_modeli/alien_planet.jpg',
            (texture) => {
                // Recolor the texture to green/purple via canvas
                const img = texture.image;
                const c = document.createElement('canvas');
                c.width = img.width;
                c.height = img.height;
                const ctx = c.getContext('2d');
                ctx.drawImage(img, 0, 0);
                const imageData = ctx.getImageData(0, 0, c.width, c.height);
                const d = imageData.data;
                for (let i = 0; i < d.length; i += 4) {
                    const r = d[i], g = d[i+1], b = d[i+2];
                    // Shift colors: red->purple, green->green, blue->dark green
                    d[i]   = Math.min(255, r * 0.4 + b * 0.5);   // R - purple tint
                    d[i+1] = Math.min(255, g * 0.8 + r * 0.15);  // G - keep green
                    d[i+2] = Math.min(255, b * 0.3 + r * 0.5);   // B - purple shift
                }
                ctx.putImageData(imageData, 0, 0);
                texture.image = c;
                texture.needsUpdate = true;
            }
        );
        const planetMaterial = new THREE.MeshPhongMaterial({
            map: jupiterTexture,
            shininess: 12,
            emissive: 0x0a1f10,
            emissiveIntensity: 0.1
        });
        const planet = new THREE.Mesh(planetGeometry, planetMaterial);
        planet.position.set(0, 0, -1500);
        scene.add(planet);

        // Atmosphere glow
        const atmosGeometry = new THREE.SphereGeometry(410, 64, 64);
        const atmosMaterial = new THREE.MeshPhongMaterial({
            color: 0x33dd88,
            transparent: true,
            opacity: 0.1,
            side: THREE.FrontSide
        });
        const atmosphere = new THREE.Mesh(atmosGeometry, atmosMaterial);
        atmosphere.position.copy(planet.position);
        scene.add(atmosphere);

        // Controls
        const controls = new OrbitControls(camera, canvas);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.minDistance = 40;
        controls.maxDistance = 400;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.0;

        // Load Model
        const loader = new GLTFLoader();
        loader.load(
            '/newproject/wraith_modeli/heavydart.glb',
            (gltf) => {
                const model = gltf.scene;

                // Center the model
                const box = new THREE.Box3().setFromObject(model);
                const center = box.getCenter(new THREE.Vector3());
                model.position.sub(center);

                scene.add(model);
                console.log('Wraith Heavy Dart loaded successfully');
            },
            (progress) => {
                console.log('Loading:', (progress.loaded / progress.total * 100) + '%');
            },
            (error) => {
                console.error('Error loading model:', error);
            }
        );

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Rotate starfield slowly
            starField.rotation.y += 0.0002;
            starField.rotation.x += 0.0001;

            // Rotate alien planet
            planet.rotation.y += 0.001;
            atmosphere.rotation.y += 0.0008;

            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    </script>
    <script src="js/main.js"></script>
</body>
</html>
